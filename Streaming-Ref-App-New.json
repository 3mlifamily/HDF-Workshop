{"topologyName":"Streaming-Ref-App-New","config":"{\"topology.workers\":3,\"topology.acker.executors\":2,\"topology.message.timeout.secs\":30,\"clustersSecurityConfig\":[{}],\"topology.worker.childopts\":\"-Xmx3072m\"}","sources":[{"id":193,"topologyId":30,"topologyComponentBundleId":1,"versionId":63,"name":"SpeedStream","description":"","config":{"properties":{"cluster":"1","consumerGroupId":"jack-speed-stream-64","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":2,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"hdf-3-0-1-maint6.field.hortonworks.com:6667,hdf-3-0-1-maint7.field.hortonworks.com:6667","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"LATEST","sslTruststoreType":"JKS","clusters":"streamanalytics","fetchMinimumBytes":"1","sslKeystoreType":"JKS","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"truck_speed_events_avro","readerSchemaVersion":"1","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"outputStreams":[{"id":274,"versionId":63,"streamId":"kafka_stream_2","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221}],"timestamp":1509642308026},{"id":192,"topologyId":30,"topologyComponentBundleId":1,"versionId":63,"name":"GeoStream","description":"","config":{"properties":{"cluster":"1","consumerGroupId":"jack-geo-stream-64","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":2,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"hdf-3-0-1-maint6.field.hortonworks.com:6667,hdf-3-0-1-maint7.field.hortonworks.com:6667","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"LATEST","sslTruststoreType":"JKS","clusters":"streamanalytics","fetchMinimumBytes":"1","sslKeystoreType":"JKS","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"truck_events_avro","readerSchemaVersion":"1","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"outputStreams":[{"id":273,"versionId":63,"streamId":"kafka_stream_1","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true}],"timestamp":1510200800221}],"timestamp":1509642308000}],"sinks":[{"id":207,"topologyId":30,"topologyComponentBundleId":16,"versionId":63,"name":"Dashboard-Violation-Predictions","description":"","config":{"properties":{"cluster":"1","clusterReplication":1,"segmentGranularity":"FIFTEEN_MINUTE","indexRetryPeriod":"PT10M","maxBatchSize":2000,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","clusterPartitions":1,"windowPeriod":"PT10M","aggregatorList":[{"count":{"name":"cnt"}}],"tranquilityZKconnect":"hdf-3-0-1-maint2.field.hortonworks.com:2181,hdf-3-0-1-maint1.field.hortonworks.com:2181,hdf-3-0-1-maint0.field.hortonworks.com:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"alerts-violation-predictions-cube","clusters":"streamanalytics","dimensions":["ViolationPredicted","eventTime","eventSource","truckId","driverId","driverName","routeId","route","eventType","latitude","longitude","correlationId","geoAddress","speed"]}},"timestamp":1510200800221},{"id":208,"topologyId":30,"topologyComponentBundleId":10,"versionId":63,"name":"Data-Lake-Violation-Events","description":"","config":{"properties":{"fsUrl":"hdfs://hdf-3-0-1-maint0.field.hortonworks.com:8020","outputFields":["eventTime","eventSource","truckId","driverId","driverName","routeId","route","eventType","latitude","longitude","correlationId","geoAddress","speed"],"cluster":"1","path":"/apps/trucking-app","extension":".txt","rotationPolicy":{"timeBasedRotation":{"rotationInterval":3,"rotationIntervalUnit":"MINUTES"}},"prefix":"","parallelism":1,"countPolicyValue":1000,"clusters":"streamanalytics"}},"timestamp":1510200800221},{"id":209,"topologyId":30,"topologyComponentBundleId":11,"versionId":63,"name":"Operational-Store-Violation-Events","description":"","config":{"properties":{"writeToWAL":true,"cluster":"1","columnFamily":"events","parallelism":1,"rowKeyField":"eventTime","batchSize":100,"clusters":"streamanalytics","table":"default:violation_events"}},"timestamp":1510200800221},{"id":210,"topologyId":30,"topologyComponentBundleId":16,"versionId":63,"name":"Dashboard-Alert-Speeding-Driver","description":"","config":{"properties":{"cluster":"1","clusterReplication":1,"segmentGranularity":"FIFTEEN_MINUTE","indexRetryPeriod":"PT10M","maxBatchSize":2000,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","clusterPartitions":1,"windowPeriod":"PT10M","aggregatorList":[{"count":{"name":"cnt"}}],"tranquilityZKconnect":"hdf-3-0-1-maint2.field.hortonworks.com:2181,hdf-3-0-1-maint1.field.hortonworks.com:2181,hdf-3-0-1-maint0.field.hortonworks.com:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"alerts-speeding-drivers-cube","clusters":"streamanalytics","dimensions":["driverId","driverName","route","speed_AVG_Round"]}},"timestamp":1510200800221}],"processors":[{"id":194,"topologyId":30,"topologyComponentBundleId":7,"versionId":63,"name":"JOIN","description":"","config":{"properties":{"joins":[{"type":"INNER","stream":"kafka_stream_2","key":"driverId","with":"kafka_stream_1"}],"parallelism":1,"from":{"stream":"kafka_stream_1","key":"driverId"},"outputKeys":["kafka_stream_1:eventTime as eventTime","kafka_stream_1:eventSource as eventSource","kafka_stream_1:truckId as truckId","kafka_stream_1:driverId as driverId","kafka_stream_1:driverName as driverName","kafka_stream_1:routeId as routeId","kafka_stream_1:route as route","eventType","latitude","longitude","correlationId","geoAddress","speed"],"window":{"windowLength":{"class":".Window$Duration","durationMs":3000},"slidingInterval":{"class":".Window$Duration","durationMs":3000},"tsField":null,"lagMs":0},"outputStream":"join_processor_stream_3"}},"outputStreams":[{"id":275,"versionId":63,"streamId":"join_processor_stream_3","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":195,"topologyId":30,"topologyComponentBundleId":4,"versionId":63,"name":"FilterByEventType","description":"","config":{"properties":{"rules":[64,65]}},"outputStreams":[{"id":276,"versionId":63,"streamId":"rule_transform_stream_1","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221},{"id":277,"versionId":63,"streamId":"rule_notifier_stream_1","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221},{"id":278,"versionId":63,"streamId":"rule_transform_stream_4","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221},{"id":279,"versionId":63,"streamId":"rule_notifier_stream_4","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":196,"topologyId":30,"topologyComponentBundleId":9,"versionId":63,"name":"Split","description":"","config":{"properties":{"rules":[66]}},"outputStreams":[{"id":280,"versionId":63,"streamId":"projection_transform_stream_11","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false}],"timestamp":1510200800221},{"id":281,"versionId":63,"streamId":"projection_notifier_stream_11","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":197,"topologyId":30,"topologyComponentBundleId":22,"versionId":63,"name":"ENRICH-WEATHER","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_15":{"fields":[{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false}]}},"outputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false}]},"inputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false}]},"parallelism":1,"config.weatherServiceURL":"http://weather.com/api?lat=${latitude}&lng=${longitude}","name":"ENRICH-WEATHER","description":"Enrichment with normalized weather data required for the model","jarFileName":"sam-custom-processor-0.0.7.jar","inputSchemaMap":{"projection_transform_stream_11":{"eventTime":"eventTime","eventSource":"eventSource","truckId":"truckId","driverId":"driverId","driverName":"driverName","routeId":"routeId","route":"route","eventType":"eventType","latitude":"latitude","longitude":"longitude","correlationId":"correlationId","geoAddress":"geoAddress","speed":"speed","splitJoinValue":"splitJoinValue"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.enrich.weather.WeatherEnrichmentProcessor"}},"outputStreams":[{"id":282,"versionId":63,"streamId":"custom_processor_stream_15","description":null,"topologyId":30,"fields":[{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":198,"topologyId":30,"topologyComponentBundleId":21,"versionId":63,"name":"ENRICH-Timesheet","description":"","config":{"properties":{"config.kerberosClientPrincipal":"","outputStreamToSchema":{"custom_processor_stream_14":{"fields":[{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false}]}},"config.enrichmentSQL":"select hours_logged, miles_logged from timesheet where driverid= ${driverId} and week=${week}","outputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"driverCertification","type":"STRING","optional":true},{"name":"driverWagePlan","type":"STRING","optional":true},{"name":"driverFatigueByHours","type":"STRING","optional":true},{"name":"driverFatigueByMiles","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false}]},"parallelism":1,"description":"Enriches the input schema with data from Phoenix based on user supplied SQL","config.zkServerUrl":"hdf-3-0-1-maint0.field.hortonworks.com:2181","inputSchemaMap":{"projection_transform_stream_11":{"eventTime":"eventTime","eventSource":"eventSource","truckId":"truckId","driverId":"driverId","driverName":"driverName","routeId":"routeId","route":"route","eventType":"eventType","latitude":"latitude","longitude":"longitude","correlationId":"correlationId","geoAddress":"geoAddress","speed":"speed","week":"week","splitJoinValue":"splitJoinValue"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.enrich.phoenix.PhoenixEnrichmentSecureProcessor","config.enrichedOutputFields":"driverFatigueByHours, driverFatigueByMiles","config.secureCluster":false,"name":"ENRICH-PHOENIX","config.kerberosKeyTabFile":"","jarFileName":"sam-custom-processor-0.0.7-jar-with-dependencies.jar"}},"outputStreams":[{"id":283,"versionId":63,"streamId":"custom_processor_stream_14","description":null,"topologyId":30,"fields":[{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":199,"topologyId":30,"topologyComponentBundleId":21,"versionId":63,"name":"ENRICH-HR","description":"","config":{"properties":{"config.kerberosClientPrincipal":"","outputStreamToSchema":{"custom_processor_stream_12":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false}]}},"config.enrichmentSQL":"select certified, wage_plan from drivers where driverid=${driverId}","outputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"driverCertification","type":"STRING","optional":true},{"name":"driverWagePlan","type":"STRING","optional":true},{"name":"driverFatigueByHours","type":"STRING","optional":true},{"name":"driverFatigueByMiles","type":"STRING","optional":true}]},"inputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false}]},"parallelism":1,"description":"Enriches the input schema with data from Phoenix based on user supplied SQL","config.zkServerUrl":"hdf-3-0-1-maint0.field.hortonworks.com:2181","inputSchemaMap":{"projection_transform_stream_11":{"eventTime":"eventTime","eventSource":"eventSource","truckId":"truckId","driverId":"driverId","driverName":"driverName","routeId":"routeId","route":"route","eventType":"eventType","latitude":"latitude","longitude":"longitude","correlationId":"correlationId","geoAddress":"geoAddress","speed":"speed","week":"week","splitJoinValue":"splitJoinValue"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.enrich.phoenix.PhoenixEnrichmentSecureProcessor","config.enrichedOutputFields":"driverCertification, driverWagePlan","config.secureCluster":false,"name":"ENRICH-PHOENIX","config.kerberosKeyTabFile":"","jarFileName":"sam-custom-processor-0.0.7-jar-with-dependencies.jar"}},"outputStreams":[{"id":284,"versionId":63,"streamId":"custom_processor_stream_12","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":200,"topologyId":30,"topologyComponentBundleId":7,"versionId":63,"name":"JOIN-1","description":"","config":{"properties":{"joins":[{"type":"INNER","stream":"custom_processor_stream_14","key":"splitJoinValue","with":"custom_processor_stream_12"},{"type":"INNER","stream":"custom_processor_stream_15","key":"splitJoinValue","with":"custom_processor_stream_14"}],"parallelism":1,"from":{"stream":"custom_processor_stream_12","key":"splitJoinValue"},"outputKeys":["eventTime","eventSource","truckId","driverId","driverName","routeId","route","eventType","latitude","longitude","correlationId","geoAddress","speed","custom_processor_stream_12:splitJoinValue as splitJoinValue","week","driverCertification","driverWagePlan","driverFatigueByHours","driverFatigueByMiles","Model_Feature_FoggyWeather","Model_Feature_RainyWeather","Model_Feature_WindyWeather"],"window":{"windowLength":{"class":".Window$Duration","durationMs":3000},"slidingInterval":{"class":".Window$Duration","durationMs":3000},"tsField":null,"lagMs":0},"outputStream":"join_processor_stream_16"}},"outputStreams":[{"id":285,"versionId":63,"streamId":"join_processor_stream_16","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":201,"topologyId":30,"topologyComponentBundleId":23,"versionId":63,"name":"NORMALIZE-MODEL-FEATURES","description":"","config":{"properties":{"outputStreamToSchema":{"custom_processor_stream_17":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_Certification","type":"INTEGER","optional":false},{"name":"Model_Feature_WagePlan","type":"INTEGER","optional":false},{"name":"Model_Feature_FatigueByHours","type":"DOUBLE","optional":false},{"name":"Model_Feature_FatigueByMiles","type":"DOUBLE","optional":false}]}},"outputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_Certification","type":"INTEGER","optional":false},{"name":"Model_Feature_WagePlan","type":"INTEGER","optional":false},{"name":"Model_Feature_FatigueByHours","type":"DOUBLE","optional":false},{"name":"Model_Feature_FatigueByMiles","type":"DOUBLE","optional":false}]},"inputSchema":{"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":true},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false}]},"parallelism":1,"name":"NORMALIZE-MODEL-FEATURES","description":"Normalize the features of the model before passing it to model","jarFileName":"sam-custom-processor-0.0.7a.jar","inputSchemaMap":{"join_processor_stream_16":{"eventTime":"eventTime","eventSource":"eventSource","truckId":"truckId","driverId":"driverId","driverName":"driverName","routeId":"routeId","route":"route","eventType":"eventType","latitude":"latitude","longitude":"longitude","correlationId":"correlationId","geoAddress":"geoAddress","speed":"speed","splitJoinValue":"splitJoinValue","Model_Feature_FoggyWeather":"Model_Feature_FoggyWeather","Model_Feature_RainyWeather":"Model_Feature_RainyWeather","Model_Feature_WindyWeather":"Model_Feature_WindyWeather","driverCertification":"driverCertification","driverWagePlan":"driverWagePlan","driverFatigueByHours":"driverFatigueByHours","driverFatigueByMiles":"driverFatigueByMiles"}},"customProcessorImpl":"hortonworks.hdf.sam.custom.processor.enrich.driver.predictivemodel.FeatureNormalizationProcessor"}},"outputStreams":[{"id":286,"versionId":63,"streamId":"custom_processor_stream_17","description":null,"topologyId":30,"fields":[{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"splitJoinValue","type":"LONG","optional":false},{"name":"week","type":"INTEGER","optional":false},{"name":"driverCertification","type":"STRING","optional":false},{"name":"driverWagePlan","type":"STRING","optional":false},{"name":"driverFatigueByHours","type":"STRING","optional":false},{"name":"driverFatigueByMiles","type":"STRING","optional":false},{"name":"Model_Feature_FoggyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_RainyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_WindyWeather","type":"DOUBLE","optional":false},{"name":"Model_Feature_Certification","type":"INTEGER","optional":false},{"name":"Model_Feature_WagePlan","type":"INTEGER","optional":false},{"name":"Model_Feature_FatigueByHours","type":"DOUBLE","optional":false},{"name":"Model_Feature_FatigueByMiles","type":"DOUBLE","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":202,"topologyId":30,"topologyComponentBundleId":8,"versionId":63,"name":"Predict","description":"","config":{"properties":{"modelName":"DriverViolationPredictionModel","parallelism":1}},"outputStreams":[{"id":287,"versionId":63,"streamId":"pmml_stream_18","description":null,"topologyId":30,"fields":[{"name":"ViolationPredicted","type":"STRING","optional":false},{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":203,"topologyId":30,"topologyComponentBundleId":4,"versionId":63,"name":"Filter-Prediction","description":"","config":{"properties":{"outputStreams":[{"id":"rule_notifier_stream_6","schema":{"fields":[{"name":"ViolationPredicted","type":"STRING","optional":false},{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}]}},{"id":"rule_transform_stream_6","schema":{"fields":[{"name":"ViolationPredicted","type":"STRING","optional":false},{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}]}}],"rules":[67]}},"outputStreams":[{"id":288,"versionId":63,"streamId":"rule_transform_stream_6","description":null,"topologyId":30,"fields":[{"name":"ViolationPredicted","type":"STRING","optional":false},{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221},{"id":289,"versionId":63,"streamId":"rule_notifier_stream_6","description":null,"topologyId":30,"fields":[{"name":"ViolationPredicted","type":"STRING","optional":false},{"name":"eventTime","type":"STRING","optional":false},{"name":"eventSource","type":"STRING","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"correlationId","type":"LONG","optional":false},{"name":"geoAddress","type":"STRING","optional":false},{"name":"speed","type":"INTEGER","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":204,"topologyId":30,"topologyComponentBundleId":5,"versionId":63,"name":"DriverAvgSpeed","description":"","config":{"properties":{"rules":[26],"parallelism":1}},"outputStreams":[{"id":290,"versionId":63,"streamId":"window_transform_stream_5","description":null,"topologyId":30,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG","type":"DOUBLE","optional":false}],"timestamp":1510200800221},{"id":291,"versionId":63,"streamId":"window_notifier_stream_5","description":null,"topologyId":30,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG","type":"DOUBLE","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":205,"topologyId":30,"topologyComponentBundleId":4,"versionId":63,"name":"Speeding","description":"","config":{"properties":{"rules":[68]}},"outputStreams":[{"id":292,"versionId":63,"streamId":"rule_transform_stream_2","description":null,"topologyId":30,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG","type":"DOUBLE","optional":false}],"timestamp":1510200800221},{"id":293,"versionId":63,"streamId":"rule_notifier_stream_2","description":null,"topologyId":30,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG","type":"DOUBLE","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221},{"id":206,"topologyId":30,"topologyComponentBundleId":9,"versionId":63,"name":"Round","description":"","config":{"properties":{"rules":[69]}},"outputStreams":[{"id":294,"versionId":63,"streamId":"projection_transform_stream_7","description":null,"topologyId":30,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG_Round","type":"LONG","optional":false}],"timestamp":1510200800221},{"id":295,"versionId":63,"streamId":"projection_notifier_stream_7","description":null,"topologyId":30,"fields":[{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"route","type":"STRING","optional":false},{"name":"speed_AVG_Round","type":"LONG","optional":false}],"timestamp":1510200800221}],"timestamp":1510200800221}],"edges":[{"id":217,"versionId":63,"topologyId":30,"fromId":193,"toId":194,"streamGroupings":[{"streamId":274,"grouping":"FIELDS","fields":["driverId"]}],"timestamp":1510200800221},{"id":216,"versionId":63,"topologyId":30,"fromId":192,"toId":194,"streamGroupings":[{"streamId":273,"grouping":"FIELDS","fields":["driverId"]}],"timestamp":1510200800221},{"id":218,"versionId":63,"topologyId":30,"fromId":194,"toId":195,"streamGroupings":[{"streamId":275,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":219,"versionId":63,"topologyId":30,"fromId":195,"toId":204,"streamGroupings":[{"streamId":276,"grouping":"FIELDS","fields":["driverId","driverName","route"]}],"timestamp":1510200800221},{"id":220,"versionId":63,"topologyId":30,"fromId":195,"toId":209,"streamGroupings":[{"streamId":276,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":221,"versionId":63,"topologyId":30,"fromId":195,"toId":208,"streamGroupings":[{"streamId":276,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":222,"versionId":63,"topologyId":30,"fromId":195,"toId":196,"streamGroupings":[{"streamId":278,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":223,"versionId":63,"topologyId":30,"fromId":196,"toId":199,"streamGroupings":[{"streamId":280,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":224,"versionId":63,"topologyId":30,"fromId":196,"toId":198,"streamGroupings":[{"streamId":280,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":225,"versionId":63,"topologyId":30,"fromId":196,"toId":197,"streamGroupings":[{"streamId":280,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":226,"versionId":63,"topologyId":30,"fromId":197,"toId":200,"streamGroupings":[{"streamId":282,"grouping":"FIELDS","fields":["splitJoinValue"]}],"timestamp":1510200800221},{"id":227,"versionId":63,"topologyId":30,"fromId":198,"toId":200,"streamGroupings":[{"streamId":283,"grouping":"FIELDS","fields":["splitJoinValue"]}],"timestamp":1510200800221},{"id":228,"versionId":63,"topologyId":30,"fromId":199,"toId":200,"streamGroupings":[{"streamId":284,"grouping":"FIELDS","fields":["splitJoinValue"]}],"timestamp":1510200800221},{"id":229,"versionId":63,"topologyId":30,"fromId":200,"toId":201,"streamGroupings":[{"streamId":285,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":230,"versionId":63,"topologyId":30,"fromId":201,"toId":202,"streamGroupings":[{"streamId":286,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":231,"versionId":63,"topologyId":30,"fromId":202,"toId":203,"streamGroupings":[{"streamId":287,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":232,"versionId":63,"topologyId":30,"fromId":203,"toId":207,"streamGroupings":[{"streamId":288,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":233,"versionId":63,"topologyId":30,"fromId":204,"toId":205,"streamGroupings":[{"streamId":290,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":234,"versionId":63,"topologyId":30,"fromId":205,"toId":206,"streamGroupings":[{"streamId":292,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221},{"id":235,"versionId":63,"topologyId":30,"fromId":206,"toId":210,"streamGroupings":[{"streamId":294,"grouping":"SHUFFLE","fields":null}],"timestamp":1510200800221}],"rules":[{"id":64,"versionId":63,"topologyId":30,"name":"Violation Event","description":"violation event","streams":["join_processor_stream_3"],"condition":"eventType <> 'Normal'","sql":"SELECT *  FROM join_processor_stream_3 WHERE eventType <> 'Normal'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_1"],"transforms":[]}],"outputStreams":["rule_transform_stream_1","rule_notifier_stream_1"],"timestamp":1510200800221},{"id":65,"versionId":63,"topologyId":30,"name":"Normal Event","description":"normal events","streams":["join_processor_stream_3"],"condition":"eventType = 'Normal'","sql":"SELECT *  FROM join_processor_stream_3 WHERE eventType = 'Normal'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_4"],"transforms":[]}],"outputStreams":["rule_transform_stream_4","rule_notifier_stream_4"],"timestamp":1510200800221},{"id":66,"versionId":63,"topologyId":30,"name":"projection_auto_generated","description":"projection description auto generated","streams":["rule_transform_stream_4"],"projections":[{"functionName":"TIMESTAMP_LONG","args":["eventTime"],"outputFieldName":"splitJoinValue"},{"functionName":"GET_WEEK","args":["eventTime"],"outputFieldName":"week"},{"expr":"eventTime"},{"expr":"eventSource"},{"expr":"truckId"},{"expr":"driverId"},{"expr":"driverName"},{"expr":"routeId"},{"expr":"route"},{"expr":"eventType"},{"expr":"latitude"},{"expr":"longitude"},{"expr":"correlationId"},{"expr":"geoAddress"},{"expr":"speed"}],"sql":"SELECT TIMESTAMP_LONG(eventTime) AS \"splitJoinValue\",GET_WEEK(eventTime) AS \"week\",eventTime,eventSource,truckId,driverId,driverName,routeId,route,eventType,latitude,longitude,correlationId,geoAddress,speed FROM rule_transform_stream_4","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["projection_transform_stream_11"],"transforms":[]}],"outputStreams":["projection_transform_stream_24","projection_notifier_stream_24"],"timestamp":1510200800221},{"id":67,"versionId":63,"topologyId":30,"name":"Violation Predicted","description":"violation predicted","streams":["pmml_stream_18"],"condition":"ViolationPredicted = 'yes'","sql":"SELECT *  FROM pmml_stream_18 WHERE ViolationPredicted = 'yes'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_6"],"transforms":[]}],"outputStreams":["rule_transform_stream_6","rule_notifier_stream_6"],"timestamp":1510200800221},{"id":68,"versionId":63,"topologyId":30,"name":"Speeding Driver","description":"speeding driver","streams":["window_transform_stream_5"],"condition":"speed_AVG > 80","sql":"SELECT *  FROM window_transform_stream_5 WHERE speed_AVG > 80","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_2"],"transforms":[]}],"outputStreams":["rule_transform_stream_2","rule_notifier_stream_2"],"timestamp":1510200800221},{"id":69,"versionId":63,"topologyId":30,"name":"projection_auto_generated","description":"projection description auto generated","streams":["rule_transform_stream_2"],"projections":[{"functionName":"ROUND","args":["speed_AVG"],"outputFieldName":"speed_AVG_Round"},{"expr":"driverId"},{"expr":"driverName"},{"expr":"route"}],"sql":"SELECT ROUND(speed_AVG) AS \"speed_AVG_Round\",driverId,driverName,route FROM rule_transform_stream_2","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["projection_transform_stream_7"],"transforms":[]}],"outputStreams":["projection_transform_stream_7","projection_notifier_stream_7"],"timestamp":1510200800221}],"windows":[{"id":26,"versionId":63,"topologyId":30,"name":"window_auto_generated","description":"window description auto generated","streams":["rule_transform_stream_1"],"window":{"windowLength":{"class":".Window$Duration","durationMs":180000},"slidingInterval":{"class":".Window$Duration","durationMs":180000},"tsField":null,"lagMs":0},"actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["window_transform_stream_5"],"transforms":[]}],"projections":[{"functionName":"MEAN","args":["speed"],"outputFieldName":"speed_AVG"},{"expr":"driverId"},{"expr":"driverName"},{"expr":"route"}],"groupbykeys":["driverId","driverName","route"],"outputStreams":["window_transform_stream_204","window_notifier_stream_204"],"timestamp":1510200800221}],"branchRules":[],"bundleIdToType":{"22":"CUSTOM","11":"HBASE","1":"KAFKA","23":"CUSTOM","4":"RULE","16":"DRUID","5":"WINDOW","7":"JOIN","8":"PMML","9":"PROJECTION","21":"CUSTOM","10":"HDFS"},"topologyEditorMetadata":{"topologyId":30,"versionId":63,"data":"{\"sources\":[{\"x\":119.95753479003906,\"y\":167.86053466796875,\"id\":192},{\"x\":123.21176147460938,\"y\":291.5213317871094,\"id\":193}],\"sinks\":[{\"x\":1715.46630859375,\"y\":121.25552368164062,\"id\":210},{\"x\":873.6761474609375,\"y\":231.1114959716797,\"id\":209},{\"x\":874.8016357421875,\"y\":338.8953552246094,\"id\":208},{\"x\":1756.157958984375,\"y\":799.0458374023438,\"id\":207}],\"processors\":[{\"x\":377.0418395996094,\"y\":231.31805419921875,\"id\":194},{\"x\":623.36767578125,\"y\":231.13795471191406,\"id\":195},{\"x\":875.7225952148438,\"y\":127.98558044433594,\"id\":204},{\"x\":1162.1546630859375,\"y\":127.98558044433594,\"id\":205},{\"x\":1432.0086669921875,\"y\":127.98558044433594,\"id\":206},{\"x\":876.457763671875,\"y\":507.88323974609375,\"id\":196},{\"x\":1121.8485107421875,\"y\":421.57281494140625,\"id\":199},{\"x\":1138.871337890625,\"y\":539.0005493164062,\"id\":198},{\"x\":1127.4617919921875,\"y\":634.4144897460938,\"id\":197},{\"x\":1452.0447998046875,\"y\":539.0005493164062,\"id\":200},{\"x\":1734.999755859375,\"y\":539.0005493164062,\"id\":201},{\"x\":1748.0224609375,\"y\":629.5546264648438,\"id\":202},{\"x\":1753.4461669921875,\"y\":710.910400390625,\"id\":203}],\"graphTransforms\":{\"dragCoords\":[-32.23440135321914,21.20162587123754],\"zoomScale\":0.5656163024901473},\"customNames\":[{\"uiname\":\"ENRICH-HR\",\"customProcessorName\":\"ENRICH-PHOENIX\"},{\"uiname\":\"ENRICH-Timesheet\",\"customProcessorName\":\"ENRICH-PHOENIX\"},{\"uiname\":\"ENRICH-WEATHER\",\"customProcessorName\":\"ENRICH-WEATHER\"},{\"uiname\":\"NORMALIZE-MODEL-FEATURES\",\"customProcessorName\":\"NORMALIZE-MODEL-FEATURES\"}]}","timestamp":1510200800221}}